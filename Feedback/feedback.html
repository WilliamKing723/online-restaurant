<!DOCTYPE html>
<html>
<head>
	<meta mame="viewpoint" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8" />
	<title>Online-Restaurant</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
	<link rel ="stylesheet" href="fb.css" />
	<link rel ="stylesheet" href="../Stylesheet/navbar.css" />
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light">

		<div class="container-fluid">
			<div class="headline"><a href="../index.html"><img src="../Img/Title.png " style="width:85px ; height:66px "/></a></div>

			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#linkbar">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="linkbar">
				<ul class="navbar-nav me-auto">
					<li class="nav-item">
					<a class="nav-link" href="../index.html">Home</a>
					<li class="nav-item">
					<a class="nav-link" href="../Order/order.html">Your Order</a>
					</li>
					<li class="nav-item">
					<a class="nav-link" href="feedback.html">Feedback</a>
					</li>
					<li class="nav-item">
					<a class="nav-link" href="../Productprice/productprice.html">Product Price</a>
					</li>
					<li class="nav-item">
					<a class="nav-link" href="#">Google Forms</a>
					</li>
				</ul>
				<form style="width:300px;" class="input-group">
					<input  class="form-control me-3" type="search" placeholder="搜尋">
					<button  class="btn btn-success" type="submit">Search</button>
				</form>
			</div>
		</div>
	</nav>
	<!--標題目錄-->
	<div class="title">
		<br>
		<div class="row">
            <div class="col-lg-1 col-md-1 col-xs-12">*姓名</div>
            <div class="col-lg-10 col-md-6 col-xs-12">
                <input class="McdTxtBox" id="Name" maxlength="10" name="Name" style="width: 120px;" type="text" value="">
                <input type="radio" id="CustM" value="1" checked="" name="CustSex">
                <label for="SexM">先生</label>
                <input type="radio" id="CustF" value="2" name="CustSex">
                <label for="SexF">小姐</label>
            </div>
        </div>
		<span class="errormsg" id="errormsg_Name">請輸入姓名。</span>
		<br>
		<div id="QuestionLabel">
            <div class="row">
                <div class="col-lg-1 col-md-1 col-xs-12">*問題種類</div>
                <div class="col-lg-10 col-md-11 col-xs-12">
                    <select class="form-control" id="sQuestionName" name="QuestionName" onchange="SetLabel(this);">
						<option value="">請選擇</option>
<option value="1">餐廳產品.服務相關問題及意見</option>
<option value="3">相關意見及詢問</option>
<option value="5">給我們的鼓勵</option>
<option value="6">員工和服務相關</option>
<option value="4">其他</option>
</select>
                </div>
            </div>
            <span class="errormsg" id="errormsg_QuestionList">請選擇問題種類。
            </span>
			<div id="MainLabel" style="display:none;">
				<br>
				<div class="row">
					<div class="col-lg-1 col-md-1 col-xs-12">*餐廳</div>
					<div class="col-lg-10 col-md-11 col-xs-12">
					
	</select>
						<input class="form-control" id="StoreAddress" name="StoreAddress" readonly="readonly" type="text" value="">
					</div>
				</div>
				<span class="errormsg" id="errormsg_StoreName">請選擇餐廳。</span>
				<br>
				<div id="InvoiceAndDateLabel" class="row">
					<div id="AppLabel" style="display:none;">
						<br>
						<div id="AppDDL">
							<div class="row">
								<div class="col-lg-2 col-md-2 col-xs-12">*餐廳問題種類</div>
								<div class="col-lg-8 col-md-9 col-xs-12">
									<select class="form-control" id="sAppQuestionName" name="AppQuestionName"><option value="">請選擇</option>
			<option value="47">滿意度調查</option>
			<option value="48">其他/詢問/建議</option>
			</select>
								</div>
							</div>
							<span class="errormsg" id="errormsg_AppQuestionList">請選擇問題種類。</span>
						</div>
						<br>
						<div class="row">
							<div class="col-lg-1 col-md-1 col-xs-12">*Email</div>
							<div class="col-lg-10 col-md-11 col-xs-12">
								<input class="McdTxtBox" id="Email" maxlength="60" name="Email" type="text" value="">
								
							</div>
						</div>
						</div>
						<span class="errormsg" id="errormsg_WrongEmail">Email格式不正確。</span>
						<span class="errormsg" id="errormsg_Email">請輸入Email。</span>
					</div>
					<br>
					<div class="row">
						<div class="col-lg-1 col-md-1 col-xs-12">*建議事項</div>
						<div class="col-lg-10 col-md-9 col-xs-12">
							<small>最大字數: 500 ，還剩: <span id="chLeft">500</span></small>
							<br>
							<textarea class="McdTxtArea" cols="20" id="Suggestion" maxlength="500" name="Suggestion" onkeyup="checkLength(this);" rows="4"></textarea>
                    </div>
					</div>
					<span class="errormsg" id="errormsg_Suggestion">請輸入建議事項。</span>
					<br>
				    <br>
					<div class="row">
						<div class="col-lg-12 col-md-12 col-xs-12">
							<label style="font-weight: normal;">
								<input checked="checked" data-val="true" data-val-required="NeedContact 欄位是必要項。" id="NeedContact" name="NeedContact" onchange="SetContactLabel(this, false);" type="radio" value="False">
								"只想提供寶貴意見，不需專人回電"
							</label>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-2 col-md-2 col-xs-12">
							<label style="font-weight: normal;">
								<input id="NeedContact" name="NeedContact" onchange="SetContactLabel(this,true);" type="radio" value="True">
								"需要專人回電"
							</label>
						</div>
						<div id="ContactLabel" class="col-lg-10 col-md-10 col-xs-12" style="display:none">
							<div class="row">
								<div class="col-lg-2 col-md-2 col-xs-12">
									市話
								</div>
								<div class="col-lg-10 col-md-10 col-xs-12">
									
									<input class="McdTxtBox" id="AreaPhoneNumber" maxlength="4" 
									name="AreaPhoneNumber" style="width: 45px;" type="text" value="">-
									<input class="McdTxtBox" id="PhoneNumber" maxlength="10"
								    name="PhoneNumber" style="width: auto;" type="text" value="">-
									<input class="McdTxtBox" id="Ext" maxlength="10" 
									name="Ext" style="width: 60px;" type="text" value="">
									"分機"
						</div>
						</div>
						<br>
						<div class="row">
							<div class="col-lg-2 col-md-2 col-xs-12">*手機</div>
							<div class="col-lg-2 col-md-2 col-xs-12">
								<input class="McdTxtBox" id="MobilePhone" maxlength="10" name="MobilePhone" type="text" value="">
								</div>
								
			
							</div>
							<span class="errormsg" id="errormsg_MobilePhoneLength">手機號碼不正確。</span>
							<span class="errormsg" id="errormsg_MobilePhone">請輸入手機號碼。</span>
			
							<br>
			
							<div class="row">
								<div class="col-lg-2 col-md-2 col-xs-12">*聯繫時間</div>
								<div class="col-lg-10 col-md-10 col-xs-12">
									<select class="form-control" id="sContactTime" name="ContactTimeName"><option value="">請選擇</option>
			<option value="1">09:00~12:00</option>
			<option value="2">13:00~18:00</option>
			</select>
		</div>
	</div>
	<span class="errormsg" id="errormsg_ContactTimeList">請選擇聯繫時間。
	</span>
	<br>
	</div>
    </div>
	<br>
    <br>
	<input id="CaptchaDeText" name="CaptchaDeText" type="hidden" value=
	"00dcc3b035be438cb3a2d3edf81d8442">
	<div class="row">
		<div class="col-lg-1 col-md-1 col-xs-12">*驗證碼</div>
		<img class="col-lg-2 col-md-2" style="display:normal" id="CaptchaImage"
		src="/contact/DefaultCaptcha/Generate?t=00dcc3b035be438cb3a2d3edf81d8442">
		<div class="col-lg-9 col-md-9 col-xs-12">
	    <div class="col-lg-12 col-md-12 col-xs-12">
			<div class="col-lg-3 col-md-3 col-xs-12">
			<input class="McdTxtBox" id="txtValidCode" 
			name="CaptchaInputText" type="text" value="">
				</div>
				<span>(大小寫皆可)</span>
			</div>
        <div class="col-lg-12 col-md-12 col-xs-12">
			<script type="text/javascript">
	                    $(function () {

			$('#ae061610505443c4905406409c8f52bc').show();
				        });
	
	
				function ______aa33e38a2e24496ab2942a41b981ae14________() {
						$('#ae061610505443c4905406409c8f52bc').hide();
					$.post("/contact/DefaultCaptcha/Refresh", { t: $('#CaptchaDeText').val() },
						function () {
							$('#ae061610505443c4905406409c8f52bc').show();
						});
					return false;
				}
					</script>
					<a href="#CaptchaImage" id="ae061610505443c4905406409c8f52bc" onclick="______aa33e38a2e24496ab2942a41b981ae14________()" 
					style="display:inline;">刷新驗證碼</a>
                    </div>
		</div>
		</div>
				<span class="errormsg" id="errormsg_Valid" style="display:block"><span class="field-validation-valid" data-valmsg-for="CaptchaInputText" data-valmsg-replace="true"></span></span>
				<br>
			<div class="row">
				<div class="col-lg-12 col-md-12 col-xs-12" style="margin-right: 10px;">
				</div>
			</div>
			<span class="errormsg" id="errormsg_TermsOfService"></span>
			<br>
			<br>
			<div class="row">
			<div class="col-lg-2 col-md-2 col-xs-6">
            <input id="submitbutton" class="btn-lg btn-sm btn-xs btn-block" 
			name="submitbutton" type="submit" value="確認送出" onclick="
			return CheckInput();">
			</div>
			<br>
			<br>
			</div>
			<br>
			<br>
			</div>
			</form>
			<hr>
			<footer> </footer>
        </div>
		<br>
		<br>
	    </div>
		<script>
			jQuery(function ($) {
				$.mask.definitions['y'] = '[2]';
				$.mask.definitions['m'] = '[01]';
				$.mask.definitions['d'] = '[0-3]';
	
			$('input[name="InvoiceType"]').on("click", function (e) {
	
				var InvoiceType = $(this).val();
	
				$("#InvoiceNo_Eng").removeAttr('value');
				$("#InvoiceNo_Number").removeAttr('value');     
	
				if (InvoiceType === '1') {
					$("#InvoiceNo_Eng").show();
					$("#InvoiceNo_Number").show();
					$("#InvoiceNo_Note").show();            
				}
	
				if (InvoiceType === '2') { 
					$("#InvoiceNo_Eng").hide();
					$("#InvoiceNo_Number").hide();
					$("#InvoiceNo_Note").hide();
				}
	
			});
	
			function ShowErrorMsg() {
				//debugger;
	
				var ErrorMsg = '';
				if (ErrorMsg.length > 0) {
					alert(ErrorMsg);
					CheckInput();
				}
			}
			function SelectCustSex() {
				
				var CustSex = 0;
				if (CustSex == 1) 
				{
					var CustM = document.getElementById("CustM");
					CustM.checked=true;
				}else if (CustSex == 2) 
				{
					var CustF = document.getElementById("CustF");
					CustF.checked=true;
				}else if (CustSex == 3) 
				{
					var CustOther = document.getElementById("CustOther");
					CustOther.checked=true;
				}
			}
	
			$(document).ready(function () {
				
	
				SelectCustSex();
				
				var isInit = '';
				if (isInit == "True") {
					var errormsg_Valid = document.getElementById("errormsg_Valid");
					errormsg_Valid.style.display = "none";
				}
	
				ShowErrorMsg();
			});
	
			function SetLabel(Qlist) {
				var MainLabel = document.getElementById("MainLabel");
				var AppLabel = document.getElementById("AppLabel");
				var AppDDL = document.getElementById("AppDDL");
				var PointCardDDL = document.getElementById("PointCardDDL");
	
				if (Qlist.value == "1") {
					MainLabel.style.display = "block";
					InvoiceAndDateLabel.style.display = "block";
					AppLabel.style.display = "none";
				}
				else if (Qlist.value == "2") {
					MainLabel.style.display = "none";
					AppLabel.style.display = "block";
					AppDDL.style.display = "none";
					PointCardDDL.style.display = "block";
				}
				else if (Qlist.value == "3") {
					MainLabel.style.display = "none";
					AppLabel.style.display = "block";
					AppDDL.style.display = "block";
					PointCardDDL.style.display = "none";
				}
				else if (Qlist.value == "5" || Qlist.value == "6") {
					MainLabel.style.display = "block";             
					InvoiceAndDateLabel.style.display = "none";
					AppLabel.style.display = "none";
				}
				else {
					MainLabel.style.display = "none";
					AppLabel.style.display = "none";
				}
			}
	
			function SetContactLabel(checkValue,isNeed) {
	
				var ContactLabel = document.getElementById("ContactLabel");
	
				if (isNeed.value == "True" || isNeed) {
					ContactLabel.style.display = "block";
				}
				else {
					ContactLabel.style.display = "none";
				}
			}
	
			function CheckInput() {
				var subMit = true;
	
				var TermChecked = document.getElementById("TermChecked");
				var errormsg_TermsOfService = document.getElementById("errormsg_TermsOfService");
				if (TermChecked.checked == false) {
					subMit = false;
					errormsg_TermsOfService.style.display = "block";
				} else {
					errormsg_TermsOfService.style.display = "none";
				}
	
				var Name = document.getElementById("Name");
				var errormsg_Name = document.getElementById("errormsg_Name");
				if (Name.value.toString().trim().length <= 0) {
					subMit = false;
					errormsg_Name.style.display = "block";
				} else {
					errormsg_Name.style.display = "none";
				}
	
				if ($('input[name*=NeedContact]:checked').val() == "True") {
					var MobilePhone = document.getElementById("MobilePhone");
					var errormsg_MobilePhone = document.getElementById("errormsg_MobilePhone");
					var errormsg_MobilePhoneLength = document.getElementById("errormsg_MobilePhoneLength");
					if (MobilePhone.value.toString().trim().length <= 0) {
						subMit = false;
						errormsg_MobilePhone.style.display = "block";
					} else {
						errormsg_MobilePhone.style.display = "none";
	
	
						if (MobilePhone.value.toString().trim().length == 10) {
							errormsg_MobilePhoneLength.style.display = "none";
						} else {
							subMit = false;
							errormsg_MobilePhoneLength.style.display = "block";
						}
					}
	
					
					var ContactTimeName = document.getElementById("sContactTime");
					var errormsg_ContactTimeList = document.getElementById("errormsg_ContactTimeList");
					if (ContactTimeName.value == "") {
						subMit = false;
						errormsg_ContactTimeList.style.display = "block";
					} else {
						errormsg_ContactTimeList.style.display = "none";
					}
				}
				
	
				var QuestionName = document.getElementById("sQuestionName");
				var errormsg_QuestionList = document.getElementById("errormsg_QuestionList");
				if (QuestionName.value == "") {
					subMit = false;
					errormsg_QuestionList.style.display = "block";
				} else {
					errormsg_QuestionList.style.display = "none";
				}
	
				var AppQuestionName = document.getElementById("sAppQuestionName");
				var errormsg_AppQuestionList = document.getElementById("errormsg_AppQuestionList");
				if (AppQuestionName.value == "" && QuestionName.value == "3") {
					subMit = false;
					errormsg_AppQuestionList.style.display = "block";
				} else {
					errormsg_AppQuestionList.style.display = "none";
				}
	
				var PointCardQuestionName = document.getElementById("sPointCardQuestionName");
				var errormsg_PointCardQuestionList = document.getElementById("errormsg_PointCardQuestionList");
				if (PointCardQuestionName.value == "" && QuestionName.value == "2") {
					subMit = false;
					errormsg_PointCardQuestionList.style.display = "block";
				} else {
					errormsg_PointCardQuestionList.style.display = "none";
				}
	
				var StoreName = document.getElementById("Store");
				var errormsg_StoreName = document.getElementById("errormsg_StoreName");
				if (StoreName.value == "" && (QuestionName.value == "1" || QuestionName.value == "5" || QuestionName.value == "6")) {
					subMit = false;
					errormsg_StoreName.style.display = "block";
				} else {
					errormsg_StoreName.style.display = "none";
				}
	
				var errormsg_TradeInfo = document.getElementById("errormsg_TradeInfo");
	
				if (QuestionName.value == "1") {
	
					//發票號碼 和 載具
					var InvoiceNo_Eng = document.getElementById("InvoiceNo_Eng");
					var InvoiceNo_Number = document.getElementById("InvoiceNo_Number");
					var InvoiceType = $('input[name="InvoiceType"]:checked').val();
					var HappenDate = document.getElementById("HappenDate");
					var HappenTime = document.getElementById("HappenTime");                
	
					if (InvoiceType == '1') {
	
						if ((InvoiceNo_Eng.value == '' && InvoiceNo_Number.value == '') && (HappenDate.value == '' && HappenTime.value == '')) {
							subMit = false;
							errormsg_TradeInfo.style.display = "block";
						}
						else {
							errormsg_TradeInfo.style.display = "none";
						}
	
					}
	
					if (InvoiceType == '2') {
						errormsg_TradeInfo.style.display = "none";
					}
	
				} else {
					errormsg_TradeInfo.style.display = "none";
				}
	
				var Email = document.getElementById("Email");
				var errormsg_Email = document.getElementById("errormsg_Email");
				var errormsg_WrongEmail = document.getElementById("errormsg_WrongEmail");
				if (Email.value.toString().trim().length <= 0 && (QuestionName.value == "2" || QuestionName.value == "3")) {
					subMit = false;
					errormsg_Email.style.display = "block";
				} else {
					errormsg_Email.style.display = "none";
	
					if (Email.value.toString().trim().length > 0 && (QuestionName.value == "2" || QuestionName.value == "3")) {
						if (Email.value.search(/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/) != -1) {
							errormsg_WrongEmail.style.display = "none";
						} else {
							subMit = false;
							errormsg_WrongEmail.style.display = "block";
						}
	
					}
				}
	
				var Suggestion = document.getElementById("Suggestion");
				var errormsg_Suggestion = document.getElementById("errormsg_Suggestion");
				if (Suggestion.value.toString().trim().length <= 0) {
					subMit = false;
					errormsg_Suggestion.style.display = "block";
				} else {
					errormsg_Suggestion.style.display = "none";
				}
	
	
				//驗證碼
				var txtValidCode = document.getElementById("txtValidCode");
				var errormsg_Codes = document.getElementById("errormsg_Codes");
				var errormsg_Valid = document.getElementById("errormsg_Valid");
				if (txtValidCode.value.toString().trim().length <= 0) {
					subMit = false;
					errormsg_Codes.style.display = "block";
					errormsg_Valid.style.display = "none";
				} else {
					errormsg_Codes.style.display = "none";
					errormsg_Valid.style.display = "none";
				}
	
				return subMit
	
			}
	
			function ChangeVal(DroId) {
	
				var sUrl = "";
				var data = {};
	
	
				switch (DroId) {
					case "County":
	
						sUrl = '/contact/Index/GetZoneList';
						data = { 'County': $('#County option:selected').val() };
						DorAjax("#Zone", sUrl, data);
	
						sUrl = '/contact/Index/GetStoreList';
						data = { 'Zone': '' };
						DorAjax("#Store", sUrl, data);
	
						break;
					case "Zone":
	
						sUrl = '/contact/Index/GetStoreList';
						data = {
							'County': $('#County option:selected').val(),
							'Zone': $('#Zone option:selected').val()
						};
						DorAjax("#Store", sUrl, data);
	
	
						break;
	
					case "Store":
	
						sUrl = '/contact/Index/GetStoreAddress';
						data = {
							'County': $('#County option:selected').val(),
							'Zone': $('#Zone option:selected').val(),
							'Store': $('#Store option:selected').val()
						};
						$.ajax({
							url: sUrl,
							type: 'get',
							cache: false,
							data: data,
							success: function (data) {
								debugger;
								$('#StoreAddress').empty();
								$('#StoreAddress').val(data);
							}
						})
	
	
						break;
					default:
				}
	
	
			}
	
			function DorAjax(jDroId, sUrl, data) {
				if (jDroId != "") {
					$.ajax({
						url: sUrl,
						type: 'get',
						cache: false,
						data: data,
						success: function (data) {
							$(jDroId).empty();
							$.each(data, function (i, item) {
								$(jDroId).append($('<option></option>').val(item.Value).text(item.Text));
							});
						}
					})
				}
	
			}
	
	
			function ValidateNumber(e, pnumber) {
				if (!/^\d+$/.test(pnumber)) {
					e.value = /^\d+/.exec(e.value);
				}
				return false;
			}
	
	
	
			function checkLength(which) {
	
				var maxChars = 500;
	
				if (which.value.length > maxChars)
	
					which.value = which.value.substring(0, maxChars);
	
				var curr = maxChars - which.value.length;
	
				document.getElementById("chLeft").innerHTML = curr.toString();
	
			}
	
		</script>
		<script type="text/javascript">
            var List = document.getElementById("sQuestionName");
            SetLabel(List);
        </script>
	</div>
</body>
</html>
